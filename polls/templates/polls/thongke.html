<!DOCTYPE html>
<html lang="en">
<head>
	{% load static %}
	<title>Table V02</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'polls/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'polls/until.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'polls/main.css' %}">
<!--===============================================================================================-->
</head>
<body>
	<div class="limiter">
		<div class="container-table100">
			<div class="wrap-table100">
					<div class="table">

						<div class="row header">
							<div class="cell">
								Name
							</div>
							<div class="cell">
								Comment
							</div>
							<div class="cell">
								Label
							</div>
						</div>

						{% for x in data %}
						<div class="row" rid="{{x.id}}">
							<div class="cell" data-title="Name">
								{{x.name}}
							</div>
							<div class="cell" data-title="Comment">
								{{x.comment}}
							</div>
							<div class="cell" data-title="Label">
								{{x.predicted}}
							</div>
						</div>
						{% endfor %}

					</div>
			</div>
		</div>
	</div>


	
	<script src="js/main.js"></script>
	<script>
	function startRefresh() {
    $.get('update', {rid:$(".row").last().attr('rid')}, function(data) {
        $('.table').append(data);    
    });
}
$(function() {
    setInterval(startRefresh,3000);
});
	</script>


</body>
</html>